(this["webpackJsonpreact-game-of-life"]=this["webpackJsonpreact-game-of-life"]||[]).push([[0],[,,,,,,,function(e,t,a){e.exports=a(17)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(6),o=a.n(i),s=(a(12),a(1)),c=a(2),l=a(4),u=a(3),m=(a(13),function(){function e(){Object(s.a)(this,e)}return Object(c.a)(e,[{key:"setupBoard",value:function(e){if(!this.initialStateValid(e))throw new Error("Make sure the supplied board is a 2D array, with consistent row lengths");this.currentState=e,this.largestYCoordinate=e.length-1,this.largestXCoordinate=e[0].length-1,this.futureState=[],this.turns=0,this.resetFutureState()}},{key:"initialStateValid",value:function(e){if(!e||"object"!==typeof e||e.length<2)return!1;if(!e.forEach)return!1;var t=!0;return e.forEach((function(a){t=a.length===e[0].length&&t})),t}},{key:"resetFutureState",value:function(){this.futureState=[];for(var e=0;e<=this.largestYCoordinate;e++)this.futureState[e]=[]}},{key:"takeTurn",value:function(){var e=this;this.currentState.forEach((function(t,a){t.forEach((function(t,n){if(e.isCellAlive(n,a)){var r=e.shouldCellDie(n,a)?0:1;e.futureState[a].push(r)}else{var i=e.shouldCellBecomeAlive(n,a)?1:0;e.futureState[a].push(i)}}))})),this.currentState=this.futureState,this.turns+=1,this.resetFutureState()}},{key:"shouldCellDie",value:function(e,t){var a=this.numberOfLivingNeighbours(e,t);return a<2||a>3}},{key:"shouldCellBecomeAlive",value:function(e,t){return 3===this.numberOfLivingNeighbours(e,t)}},{key:"numberOfLivingNeighbours",value:function(e,t){var a=this,n=0;return[[1,1],[1,0],[0,1],[-1,1]].forEach((function(r){for(var i=-1;i<=1;i++)if(0!==i){var o=e+r[0]*i,s=t+r[1]*i;s>=0&&o>=0&&s<=a.largestYCoordinate&&o<=a.largestXCoordinate&&a.isCellAlive(o,s)&&(n+=1)}})),n}},{key:"isCellAlive",value:function(e,t){return 1===this.currentState[t][e]}},{key:"searchForAnyLife",value:function(){var e=!1;return this.currentState.forEach((function(t){t.forEach((function(t){e=!!t||e}))})),e}},{key:"printBoard",value:function(){this.currentState.forEach((function(e){console.log(e)}))}}]),e}()),f=(a(14),function(e){var t=e.status,a=e.toggleCellState;return r.a.createElement("div",{onClick:a,className:"cell ".concat(t?"alive":"dead")})}),h=(a(15),function(e){var t=e.cells,a=e.toggleCellState;return r.a.createElement("div",{className:"board"},function(){var e=t.map((function(e,t){var n=[];return e.forEach((function(e,i){n.push(r.a.createElement(f,{key:"cell-".concat(t,"-").concat(i),status:e,toggleCellState:function(){a(i,t)}}))})),n}));return e}())}),d=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(s.a)(this,a),(n=t.call(this,e)).componentDidUpdate=function(){n.anyLifePresent()||n.state.automaticModeOn&&(clearInterval(n.state.interval),n.setState({isLifePresent:!1,interval:void 0,automaticModeOn:!1}))},n.toggleAutomaticMode=function(){if(n.state.automaticModeOn)clearInterval(n.state.interval),n.setState({interval:void 0,automaticModeOn:!1});else{var e=setInterval(n.takeTurn,500);n.setState({interval:e,automaticModeOn:!0})}},n.anyLifePresent=function(){return n.state.game.searchForAnyLife()},n.toggleCellState=function(e,t){var a=n.state.game,r=a.currentState[t][e];a.currentState[t][e]=1===r?0:1,n.setState({game:a})},n.takeTurn=function(){var e=n.state.game;e.takeTurn(),n.setState({game:e})},n.seedLife=function(){for(var e=n.state.game.currentState,t=0;t<n.state.game.currentState.length;t++)for(var a=0;a<n.state.game.currentState[t].length;a++)e[t][a]=Math.random()>.5?1:0;var r=new m;r.setupBoard(e),n.setState({game:r,isLifePresent:!0})},n.getGameModeLogo=function(){return n.state.automaticModeOn?"pause":"play"},n.getButtonClasses=function(){return n.state.automaticModeOn?"ui button disabled":"ui button"},n.getPlayButtonText=function(){return n.state.automaticModeOn?"Pause & swap to manual mode":"Start automatic mode"};var r=new m;return r.setupBoard([[0,0,0,0,0,1,0,0,1,0],[0,0,0,0,0,0,0,0,0,1],[1,0,1,0,0,0,1,0,0,0],[0,1,0,0,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,0],[0,0,0,1,0,0,0,0,0,1],[0,0,0,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,0,0,0],[1,0,1,0,0,0,1,0,0,0],[0,1,0,0,0,0,0,0,0,0]]),n.state={game:r,isLifePresent:!0,automaticModeOn:!1,interval:void 0},n}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"game center-content"},r.a.createElement("div",{className:"stats"},r.a.createElement("p",null,"Turns : ".concat(this.state.game.turns)),r.a.createElement("p",{className:this.state.isLifePresent?"hidden":"visible"},"All your cells died ",r.a.createElement("span",{role:"img","aria-label":"crying emoji"},"\ud83d\ude2d"))),r.a.createElement("div",{className:"mb-3"},r.a.createElement(h,{cells:this.state.game.currentState,toggleCellState:this.toggleCellState})),r.a.createElement("div",{className:"controls center-content"},r.a.createElement("h4",{className:"ui horizontal divider header"},r.a.createElement("i",{className:"sliders horizontal icon"}),"Controls"),r.a.createElement("div",{className:"mb-1"},r.a.createElement("button",{className:"ui labeled icon button ".concat(this.state.isLifePresent?"":"disabled"),onClick:this.toggleAutomaticMode},r.a.createElement("i",{className:"".concat(this.getGameModeLogo()," icon")}),this.getPlayButtonText())),r.a.createElement("div",{className:"mb-1"},r.a.createElement("input",{className:this.getButtonClasses(),"data-testid":"take-turn",type:"button",onClick:this.takeTurn,value:"Click to take 1 turn"}),r.a.createElement("input",{className:this.getButtonClasses(),"data-testid":"seed-life",type:"button",onClick:this.seedLife,value:"Reset game"})),r.a.createElement("div",{className:"ui card"},r.a.createElement("div",{className:"content"},"Use the controls above to run the game in automatic or manual mode. Click on cells to toggle alive/dead, or click 'Reset game' to seed life throughout the board."))))}}]),a}(r.a.Component),v=(a(16),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"app center-content"},r.a.createElement("h1",null,"Game of Life"),r.a.createElement(d,null))}}]),a}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[7,1,2]]]);
//# sourceMappingURL=main.ef88eba0.chunk.js.map